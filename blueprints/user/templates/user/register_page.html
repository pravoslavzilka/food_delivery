{% extends "layout.html" %}

{% block title %}
	Sign up
{% endblock title %}



{% block content %}
	<script>
		$(document).ready(function(){
  		 	$(".active").removeClass("active");
  		 	$("#account").addClass("active");
		});
	</script>

	<style>
		#login-frame {
			margin-top:60px;

			border:solid;
			border-width:1px;
			border-color:#e9f4f3;
			padding-top:10px;
			padding-bottom:10px;
			background:#e9f4f3;
		}
		.signup-header {
			padding-top:20px;
			padding-bottom:50px;

	</style>


			<form class="col-lg-6 offset-lg-3" id="login-frame" method="post" action="#"  novalidate>

				<div class="row justify-content-center">
					<h3 style="font-size:35px;" class="signup-header">Sign up</h3>
				</div>
				<div class="form-group row">
 				   <label for="inputEmail3" class="col-sm-2 col-form-label">Username</label>
 				   <div class="col-sm-10">
 				     <input type="text" class="form-control" value="{{username}}" name="username" placeholder="Username" required>
					   <div class="invalid-feedback">
      					  This field is required !
      					</div>

 				   </div>

 				 </div>
				<div class="form-group row">
 				   <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
 				   <div class="col-sm-10">
 				     <input type="email" class="form-control" value="{{email}}" name="email" id="inputEmail3" placeholder="Email" required>
					   <div class="invalid-feedback">
      					  Please type a valid email address !
					   </div>

 				   </div>

 				 </div>
 				 <div class="form-group row">
 				   <label class="col-sm-2 col-form-label">Password</label>
 				   <div class="col-sm-10">
 				     <input type="password" class="form-control" pattern=".{8,20}" name="password"  id="password-input" placeholder="Password" required>
					   <div class="invalid-feedback">
      					  Password have to be from 8 to 20 characters long !
      					</div>

 				   </div>

 				 </div>

				 <div class="form-group row">
				   <div class="col-sm-2"></div>
 				   <div class="col-sm-10">
					   <p>If you already have an account, <a href="{{ url_for("user.login_page")}}">sign in</a> !</p>
				   </div>
				 </div>
 				 <div class="form-group row">
 				   <div class="col-sm-10">
 				     <button type="submit" class="btn btn-primary">Sign up</button>
 				   </div>
 				 </div>
 			</form>

			<div style="padding-bottom:100px;">

			</div>


<script>


	(function() {
	  'use strict';
	  window.addEventListener('load', function() {
	    // Fetch all the forms we want to apply custom Bootstrap validation styles to
	    var forms = document.getElementsByClassName('col-lg-6 offset-lg-3');
	    // Loop over them and prevent submission
	    var validation = Array.prototype.filter.call(forms, function(form) {
	      form.addEventListener('submit', function(event) {
	        if (form.checkValidity() === false) {
	          event.preventDefault();
	          event.stopPropagation();
	        }
	        form.classList.add('was-validated');
	      }, false);
	    });
	  }, false);
	})();
	var form = document.getElementById("form-validation");
    form.addEventListener("submit", function(event) {
      if ( document.getElementById("password").value != document.getElementById("confirm_password").value ) {
          alert("Password mismatch");
          event.preventDefault();
          event.stopPropagation();
      }
      else if (form.checkValidity() == false) {
          event.preventDefault();
          event.stopPropagation();
      }
      form.classList.add("was-validated");
    }, false);
</script>

{% endblock content %}
